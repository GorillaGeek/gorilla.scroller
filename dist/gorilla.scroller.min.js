window.gorilla||(window.gorilla={}),function(i,e){function t(){var e=a.find("section"),t=0;e.each(function(){var n=i(this);n.find("section").size()>0||(h.add(n,t,e.length),t++)}),h[0].active(!0)}function n(){var e,t,n=null;i(window).mousewheel(function(){return clearTimeout(e),t=h.current(),null===n&&(n=t.elem.scrollTop()),event.deltaY>0?void(e=setTimeout(function(){t.hasScroll()&&n!==t.elem.scrollTop()||r(),n=null},f.scrollDelay)):void(e=setTimeout(function(){t.hasScroll()&&n!==t.elem.scrollTop()||l(),n=null},f.scrollDelay))})}function o(){var e=function(){i("body").addClass("gorilla-scroller"),d=!1,h[0].active(!0)},t=function(){d=!0,i("body").removeClass("gorilla-scroller")},n=null;i(window).resize(function(){clearTimeout(n),n=setTimeout(function(){return"function"==typeof f.disable?f.disable()?void t():void e():f.disable?void t():void e()},100)}),i(window).trigger("resize")}function r(){var i=h.current();!d&&i.isScrollOnBottom()&&i.next()&&i.active(!1)}function l(){var i=h.current();!d&&i.isScrollOnTop()&&i.prev()&&i.prev().active(!0)}function s(){u=i("<nav class='gorilla-scroller-navigation' />");var e=i("<ul />");h.forEach(function(t){var n=i("<li />"),o=i("<a />");o.attr({section:t.index});var r=t.elem.parents("section");r.size()>0&&r.find("section:first-child")[0]!==t.elem[0]||(n.append(o),e.append(n))}),u.css({"z-index":h.length+f.zIndex+2}),u.append(e),a.append(u),u.on("click","a",function(){h.find(i(this).attr("section")).active(!0)}),setTimeout(function(){u.height(e.height()),c()},0)}function c(){if(u){var i,e=h.current(),t=e.index;do if(i=u.find("[section="+t+"]"),t--,-1>t)throw"Gorilla Scroller: Navigation link not found";while(0===i.size());u.removeClass(function(i,e){return(e.match(/(^|\s)active-\S+/g)||[]).join(" ")}),u.addClass("active-"+e.index),u.find("li").removeClass("active active-sub"),u.find("li").removeClass(function(i,e){return(e.match(/(^|\s)active-\S+/g)||[]).join(" ")});var n="active";e.isChild()&&(n+=" active-sub active-"+e.parentIndex),i.parents("li").addClass(n)}}var a,u,d=!1,f={zIndex:0,scrollDelay:300,showNavigation:!0,disable:!1},h=[];h.add=function(i,e,t){h.push(new v(i,e,t-e+f.zIndex))},h.current=function(){return h.filter(function(i){return i.is(a.find(".gorilla-scroller-active").first())})[0]},h.find=function(i){var e=a.find("#gorilla-scroller-section-"+i);return e.size()?h.filter(function(i){return i.is(e)})[0]:null},Scroller=function(e,t){this.init(i(e),t||{})},e.scroller=Scroller,i.fn.gorillaScroller=function(i){return new e.scroller(this,i)},Scroller.prototype.init=function(e,r){a=e,i.extend(f,r),i("body").addClass("gorilla-scroller"),a.addClass("gorilla-scroller-root"),t(),n(),f.showNavigation&&s(),o()},Scroller.prototype.active=function(i){var e=h.find(i);if(!e)throw"Gorilla Scroller: Section not found";e.active(!0)};var v=function(i,e,t){this.elem=i,this.index=e,this.parentIndex=0,this.isChild()&&i.parents("section").find(".gorilla-scroller-section").each(function(i,e){return this.is(e)?!1:void this.parentIndex++}.bind(this)),i.addClass("gorilla-scroller-section gorilla-scroller-section-"+e),i.attr("id","gorilla-scroller-section-"+e),i.css({"z-index":t})};v.prototype.is=function(e){return this.elem[0]===i(e)[0]},v.prototype.isChild=function(){return this.elem.parents("section").size()>0},v.prototype.hasScroll=function(){return this.elem[0].scrollHeight-this.elem.outerHeight()>0},v.prototype.isScrollOnTop=function(){return!this.hasScroll()||0===this.elem.scrollTop()},v.prototype.isScrollOnBottom=function(){return!this.hasScroll()||this.elem.scrollTop()>=this.elem[0].scrollHeight-this.elem.outerHeight()},v.prototype.active=function(i,e){return i?(this.elem.addClass("gorilla-scroller-active"),this.next()&&this.next().active(!0,!0),!e&&this.prev()&&this.prev().active(!1,!0),void c(this.index)):(this.elem.removeClass("gorilla-scroller-active"),e&&this.prev()&&this.prev().active(!1,!0),void c(this.index))},v.prototype.prev=function(){return h.find(this.index-1)},v.prototype.next=function(){return h.find(this.index+1)}}(jQuery,window.gorilla);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdvcmlsbGEuc2Nyb2xsZXIuanMiXSwibmFtZXMiOlsid2luZG93IiwiZ29yaWxsYSIsIiQiLCJzZWN0aW9uc0NvbmZpZyIsInNlY3Rpb25zRG9tIiwicm9vdCIsImZpbmQiLCJpbmRleCIsImVhY2giLCJzZWN0aW9uIiwidGhpcyIsInNpemUiLCJzZWN0aW9ucyIsImFkZCIsImxlbmd0aCIsImFjdGl2ZSIsImV2ZW50Q29uZmlnIiwidGltZW91dCIsImN1cnJlbnQiLCJpbml0aWFsU2Nyb2xsIiwibW91c2V3aGVlbCIsImNsZWFyVGltZW91dCIsImVsZW0iLCJzY3JvbGxUb3AiLCJldmVudCIsImRlbHRhWSIsInNldFRpbWVvdXQiLCJoYXNTY3JvbGwiLCJzY3JvbGxEb3duIiwic2V0dGluZ3MiLCJzY3JvbGxEZWxheSIsInNjcm9sbFVwIiwiZGlzYWJsZUNvbmZpZyIsImVuYWJsZSIsImFkZENsYXNzIiwiaXNEaXNhYmxlZCIsImRpc2FibGUiLCJyZW1vdmVDbGFzcyIsInRpbWVvdXRSZXNpemUiLCJyZXNpemUiLCJ0cmlnZ2VyIiwiaXNTY3JvbGxPbkJvdHRvbSIsIm5leHQiLCJpc1Njcm9sbE9uVG9wIiwicHJldiIsIm5hdmlnYXRpb25Db25maWciLCJuYXZpZ2F0aW9uIiwidWwiLCJmb3JFYWNoIiwiaXRlbSIsImxpIiwiYSIsImF0dHIiLCJwYXJlbnRTZWN0aW9uIiwicGFyZW50cyIsImFwcGVuZCIsImNzcyIsInotaW5kZXgiLCJ6SW5kZXgiLCJvbiIsImhlaWdodCIsIm5hdmlnYXRpb25DaGFuZ2UiLCJjdXJyZW50TGluayIsIm1hdGNoIiwiam9pbiIsImFjdGl2ZUNsYXNzIiwiaXNDaGlsZCIsInBhcmVudEluZGV4Iiwic2hvd05hdmlnYXRpb24iLCJ0b3RhbFNlY3Rpb25zIiwicHVzaCIsIlNlY3Rpb24iLCJmaWx0ZXIiLCJpcyIsImZpcnN0IiwiZG9tIiwiU2Nyb2xsZXIiLCJjb25maWciLCJpbml0Iiwic2Nyb2xsZXIiLCJmbiIsImdvcmlsbGFTY3JvbGxlciIsInByb3RvdHlwZSIsImV4dGVuZCIsImJpbmQiLCJzY3JvbGxIZWlnaHQiLCJvdXRlckhlaWdodCIsImlzQ2FzY2FkZSIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkFBQUtBLE9BQU9DLFVBQ1JELE9BQU9DLFlBR1gsU0FBV0MsRUFBR0QsR0FvRlYsUUFBU0UsS0FDTCxHQUFJQyxHQUFjQyxFQUFLQyxLQUFLLFdBRXhCQyxFQUFRLENBQ1pILEdBQVlJLEtBQUssV0FDYixHQUFJQyxHQUFVUCxFQUFFUSxLQUVaRCxHQUFRSCxLQUFLLFdBQVdLLE9BQVMsSUFJckNDLEVBQVNDLElBQUlKLEVBQVNGLEVBQU9ILEVBQVlVLFFBQ3pDUCxPQUdKSyxFQUFTLEdBQUdHLFFBQU8sR0FHdkIsUUFBU0MsS0FDTCxHQUFJQyxHQUVBQyxFQUNBQyxFQUFnQixJQUNwQmpCLEdBQUVGLFFBQVFvQixXQUFXLFdBUWpCLE1BUEFDLGNBQWFKLEdBQ2JDLEVBQVVOLEVBQVNNLFVBRUcsT0FBbEJDLElBQ0FBLEVBQWdCRCxFQUFRSSxLQUFLQyxhQUc3QkMsTUFBTUMsT0FBUyxPQUNmUixFQUFVUyxXQUFXLFdBQ1pSLEVBQVFTLGFBQWVSLElBQWtCRCxFQUFRSSxLQUFLQyxhQUN2REssSUFHSlQsRUFBZ0IsTUFDakJVLEVBQVNDLG1CQUloQmIsRUFBVVMsV0FBVyxXQUNaUixFQUFRUyxhQUFlUixJQUFrQkQsRUFBUUksS0FBS0MsYUFDdkRRLElBR0paLEVBQWdCLE1BQ2pCVSxFQUFTQyxnQkFJcEIsUUFBU0UsS0FDTCxHQUFJQyxHQUFTLFdBQ1QvQixFQUFFLFFBQVFnQyxTQUFTLG9CQUVuQkMsR0FBYSxFQUNidkIsRUFBUyxHQUFHRyxRQUFPLElBR25CcUIsRUFBVSxXQUNWRCxHQUFhLEVBQ2JqQyxFQUFFLFFBQVFtQyxZQUFZLHFCQUd0QkMsRUFBZ0IsSUFDcEJwQyxHQUFFRixRQUFRdUMsT0FBTyxXQUNibEIsYUFBYWlCLEdBQ2JBLEVBQWdCWixXQUFXLFdBQ3ZCLE1BQStCLGtCQUFwQkcsR0FBU08sUUFDWlAsRUFBU08sY0FDVEEsU0FJSkgsS0FJQ0osRUFBU08sWUFLZEEsU0FKSUgsTUFLTCxPQUVQL0IsRUFBRUYsUUFBUXdDLFFBQVEsVUFHdEIsUUFBU1osS0FDTCxHQUFJVixHQUFVTixFQUFTTSxXQUVuQmlCLEdBQWVqQixFQUFRdUIsb0JBQXVCdkIsRUFBUXdCLFFBSTFEeEIsRUFBUUgsUUFBTyxHQUduQixRQUFTZ0IsS0FDTCxHQUFJYixHQUFVTixFQUFTTSxXQUVuQmlCLEdBQWVqQixFQUFReUIsaUJBQW9CekIsRUFBUTBCLFFBSXZEMUIsRUFBUTBCLE9BQU83QixRQUFPLEdBRzFCLFFBQVM4QixLQUNMQyxFQUFhNUMsRUFBRSw4Q0FDZixJQUFJNkMsR0FBSzdDLEVBQUUsU0FFWFUsR0FBU29DLFFBQVEsU0FBVUMsR0FDdkIsR0FBSUMsR0FBS2hELEVBQUUsVUFDUGlELEVBQUlqRCxFQUFFLFFBRVZpRCxHQUFFQyxNQUNFM0MsUUFBU3dDLEVBQUsxQyxPQUdsQixJQUFJOEMsR0FBZ0JKLEVBQUszQixLQUFLZ0MsUUFBUSxVQUNsQ0QsR0FBYzFDLE9BQVMsR0FBSzBDLEVBQWMvQyxLQUFLLHVCQUF1QixLQUFPMkMsRUFBSzNCLEtBQUssS0FJM0Y0QixFQUFHSyxPQUFPSixHQUNWSixFQUFHUSxPQUFPTCxNQUdkSixFQUFXVSxLQUNQQyxVQUFZN0MsRUFBU0UsT0FBU2UsRUFBUzZCLE9BQVUsSUFFckRaLEVBQVdTLE9BQU9SLEdBQ2xCMUMsRUFBS2tELE9BQU9ULEdBRVpBLEVBQVdhLEdBQUcsUUFBUyxJQUFLLFdBQ3hCL0MsRUFBU04sS0FBS0osRUFBRVEsTUFBTTBDLEtBQUssWUFBWXJDLFFBQU8sS0FHbERXLFdBQVcsV0FDUG9CLEVBQVdjLE9BQU9iLEVBQUdhLFVBQ3JCQyxLQUNELEdBR1AsUUFBU0EsS0FDTCxHQUFLZixFQUFMLENBRUEsR0FDSWdCLEdBREE1QyxFQUFVTixFQUFTTSxVQUVuQlgsRUFBUVcsRUFBUVgsS0FFcEIsR0FJSSxJQUhBdUQsRUFBY2hCLEVBQVd4QyxLQUFLLFlBQWNDLEVBQVEsS0FDcERBLElBRVksR0FBUkEsRUFDQSxLQUFNLG9EQUVrQixJQUF2QnVELEVBQVluRCxPQUVyQm1DLEdBQVdULFlBQVksU0FBVTlCLEVBQU9pRCxHQUNwQyxPQUFRQSxFQUFJTyxNQUFNLDBCQUE0QkMsS0FBSyxPQUV2RGxCLEVBQVdaLFNBQVMsVUFBWWhCLEVBQVFYLE9BRXhDdUMsRUFBV3hDLEtBQUssTUFBTStCLFlBQVkscUJBQ2xDUyxFQUFXeEMsS0FBSyxNQUFNK0IsWUFBWSxTQUFVOUIsRUFBT2lELEdBQy9DLE9BQVFBLEVBQUlPLE1BQU0sMEJBQTRCQyxLQUFLLE1BR3ZELElBQUlDLEdBQWMsUUFFZC9DLEdBQVFnRCxZQUNSRCxHQUFlLHNCQUF3Qi9DLEVBQVFpRCxhQUduREwsRUFBWVIsUUFBUSxNQUFNcEIsU0FBUytCLElBbFF2QyxHQUFJNUQsR0FDQXlDLEVBQ0FYLEdBQWEsRUFDYk4sR0FDQTZCLE9BQVEsRUFDUjVCLFlBQWEsSUFDYnNDLGdCQUFnQixFQUNoQmhDLFNBQVMsR0FNVHhCLElBRUpBLEdBQVNDLElBQU0sU0FBVVMsRUFBTWYsRUFBTzhELEdBQ2xDekQsRUFBUzBELEtBQUssR0FBSUMsR0FBUWpELEVBQU1mLEVBQU84RCxFQUFnQjlELEVBQVFzQixFQUFTNkIsVUFHNUU5QyxFQUFTTSxRQUFVLFdBQ2YsTUFBT04sR0FBUzRELE9BQU8sU0FBVXZCLEdBQzdCLE1BQU9BLEdBQUt3QixHQUFHcEUsRUFBS0MsS0FBSyw0QkFBNEJvRSxXQUN0RCxJQUdQOUQsRUFBU04sS0FBTyxTQUFVQyxHQUN0QixHQUFJb0UsR0FBTXRFLEVBQUtDLEtBQUssNkJBQStCQyxFQUVuRCxPQUFLb0UsR0FBSWhFLE9BSUZDLEVBQVM0RCxPQUFPLFNBQVV2QixHQUM3QixNQUFPQSxHQUFLd0IsR0FBR0UsS0FDaEIsR0FMUSxNQVdmQyxTQUFXLFNBQVV0RCxFQUFNdUQsR0FDdkJuRSxLQUFLb0UsS0FBSzVFLEVBQUVvQixHQUFPdUQsUUFHdkI1RSxFQUFROEUsU0FBV0gsU0FDbkIxRSxFQUFFOEUsR0FBR0MsZ0JBQWtCLFNBQVVKLEdBQzdCLE1BQU8sSUFBSTVFLEdBQVE4RSxTQUFTckUsS0FBTW1FLElBR3RDRCxTQUFTTSxVQUFVSixLQUFPLFNBQVV4RCxFQUFNdUQsR0FDdEN4RSxFQUFPaUIsRUFDUHBCLEVBQUVpRixPQUFPdEQsRUFBVWdELEdBRW5CM0UsRUFBRSxRQUFRZ0MsU0FBUyxvQkFDbkI3QixFQUFLNkIsU0FBUyx5QkFFZC9CLElBQ0FhLElBRUlhLEVBQVN1QyxnQkFDVHZCLElBR0piLEtBR0o0QyxTQUFTTSxVQUFVbkUsT0FBUyxTQUFVUixHQUNsQyxHQUFJVyxHQUFVTixFQUFTTixLQUFLQyxFQUU1QixLQUFLVyxFQUNELEtBQU0scUNBR1ZBLEdBQVFILFFBQU8sR0FnTW5CLElBQUl3RCxHQUFVLFNBQVVqRCxFQUFNZixFQUFPbUQsR0FDakNoRCxLQUFLWSxLQUFPQSxFQUNaWixLQUFLSCxNQUFRQSxFQUNiRyxLQUFLeUQsWUFBYyxFQUVmekQsS0FBS3dELFdBQ0w1QyxFQUFLZ0MsUUFBUSxXQUFXaEQsS0FBSyw2QkFBNkJFLEtBQUssU0FBVUQsRUFBT2UsR0FDNUUsTUFBSVosTUFBSytELEdBQUduRCxJQUNELE1BR1haLE1BQUt5RCxlQUNQaUIsS0FBSzFFLE9BR1hZLEVBQUtZLFNBQVMscURBQXVEM0IsR0FDckVlLEVBQUs4QixLQUFLLEtBQU0sNEJBQThCN0MsR0FDOUNlLEVBQUtrQyxLQUNEQyxVQUFXQyxJQUluQmEsR0FBUVcsVUFBVVQsR0FBSyxTQUFVbkQsR0FDN0IsTUFBT1osTUFBS1ksS0FBSyxLQUFPcEIsRUFBRW9CLEdBQU0sSUFHcENpRCxFQUFRVyxVQUFVaEIsUUFBVSxXQUN4QixNQUFPeEQsTUFBS1ksS0FBS2dDLFFBQVEsV0FBVzNDLE9BQVMsR0FHakQ0RCxFQUFRVyxVQUFVdkQsVUFBWSxXQUMxQixNQUFRakIsTUFBS1ksS0FBSyxHQUFHK0QsYUFBZTNFLEtBQUtZLEtBQUtnRSxjQUFpQixHQUduRWYsRUFBUVcsVUFBVXZDLGNBQWdCLFdBQzlCLE9BQVFqQyxLQUFLaUIsYUFBeUMsSUFBMUJqQixLQUFLWSxLQUFLQyxhQUcxQ2dELEVBQVFXLFVBQVV6QyxpQkFBbUIsV0FDakMsT0FBUS9CLEtBQUtpQixhQUFlakIsS0FBS1ksS0FBS0MsYUFBZ0JiLEtBQUtZLEtBQUssR0FBRytELGFBQWUzRSxLQUFLWSxLQUFLZ0UsZUFHaEdmLEVBQVFXLFVBQVVuRSxPQUFTLFNBQVVBLEVBQVF3RSxHQUN6QyxNQUFJeEUsSUFDQUwsS0FBS1ksS0FBS1ksU0FBUywyQkFFZnhCLEtBQUtnQyxRQUNMaEMsS0FBS2dDLE9BQU8zQixRQUFPLEdBQU0sSUFHeEJ3RSxHQUFhN0UsS0FBS2tDLFFBQ25CbEMsS0FBS2tDLE9BQU83QixRQUFPLEdBQU8sT0FHOUI4QyxHQUFpQm5ELEtBQUtILFNBSTFCRyxLQUFLWSxLQUFLZSxZQUFZLDJCQUNsQmtELEdBQWE3RSxLQUFLa0MsUUFDbEJsQyxLQUFLa0MsT0FBTzdCLFFBQU8sR0FBTyxPQUc5QjhDLEdBQWlCbkQsS0FBS0gsU0FHMUJnRSxFQUFRVyxVQUFVdEMsS0FBTyxXQUNyQixNQUFPaEMsR0FBU04sS0FBS0ksS0FBS0gsTUFBUSxJQUd0Q2dFLEVBQVFXLFVBQVV4QyxLQUFPLFdBQ3JCLE1BQU85QixHQUFTTixLQUFLSSxLQUFLSCxNQUFRLEtBSXZDaUYsT0FBUXhGLE9BQU9DIiwiZmlsZSI6ImdvcmlsbGEuc2Nyb2xsZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaWYgKCF3aW5kb3cuZ29yaWxsYSkge1xyXG4gICAgd2luZG93LmdvcmlsbGEgPSB7fTtcclxufVxuXG4oZnVuY3Rpb24gKCQsIGdvcmlsbGEpIHtcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICogVkFSU1xuXHQgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIHZhciByb290O1xuICAgIHZhciBuYXZpZ2F0aW9uO1xyXG4gICAgdmFyIGlzRGlzYWJsZWQgPSBmYWxzZTtcbiAgICB2YXIgc2V0dGluZ3MgPSB7XHJcbiAgICAgICAgekluZGV4OiAwLFxuICAgICAgICBzY3JvbGxEZWxheTogMzAwLFxuICAgICAgICBzaG93TmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgICAgZGlzYWJsZTogZmFsc2VcclxuICAgIH07XG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdCAqIFNFQ1RJT05TXG5cdCAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgdmFyIHNlY3Rpb25zID0gW107XG5cbiAgICBzZWN0aW9ucy5hZGQgPSBmdW5jdGlvbiAoZWxlbSwgaW5kZXgsIHRvdGFsU2VjdGlvbnMpIHtcclxuICAgICAgICBzZWN0aW9ucy5wdXNoKG5ldyBTZWN0aW9uKGVsZW0sIGluZGV4LCB0b3RhbFNlY3Rpb25zIC0gaW5kZXggKyBzZXR0aW5ncy56SW5kZXgpKTtcclxuICAgIH07XG5cbiAgICBzZWN0aW9ucy5jdXJyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBzZWN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXMocm9vdC5maW5kKCcuZ29yaWxsYS1zY3JvbGxlci1hY3RpdmUnKS5maXJzdCgpKTtcclxuICAgICAgICB9KVswXTtcclxuICAgIH07XG5cbiAgICBzZWN0aW9ucy5maW5kID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IHJvb3QuZmluZCgnI2dvcmlsbGEtc2Nyb2xsZXItc2VjdGlvbi0nICsgaW5kZXgpO1xuXG4gICAgICAgIGlmICghZG9tLnNpemUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5pcyhkb20pO1xyXG4gICAgICAgIH0pWzBdO1xyXG4gICAgfTtcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICogRVhQT1JUXG5cdCAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgU2Nyb2xsZXIgPSBmdW5jdGlvbiAoZWxlbSwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5pbml0KCQoZWxlbSksIGNvbmZpZyB8fCB7fSk7XHJcbiAgICB9O1xuXG4gICAgZ29yaWxsYS5zY3JvbGxlciA9IFNjcm9sbGVyO1xuICAgICQuZm4uZ29yaWxsYVNjcm9sbGVyID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgIHJldHVybiBuZXcgZ29yaWxsYS5zY3JvbGxlcih0aGlzLCBjb25maWcpO1xyXG4gICAgfTtcblxuICAgIFNjcm9sbGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKGVsZW0sIGNvbmZpZykge1xyXG4gICAgICAgIHJvb3QgPSBlbGVtO1xuICAgICAgICAkLmV4dGVuZChzZXR0aW5ncywgY29uZmlnKTtcblxuICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ2dvcmlsbGEtc2Nyb2xsZXInKTtcbiAgICAgICAgcm9vdC5hZGRDbGFzcygnZ29yaWxsYS1zY3JvbGxlci1yb290Jyk7XG5cbiAgICAgICAgc2VjdGlvbnNDb25maWcoKTtcbiAgICAgICAgZXZlbnRDb25maWcoKTtcblxuICAgICAgICBpZiAoc2V0dGluZ3Muc2hvd05hdmlnYXRpb24pIHtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbkNvbmZpZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGlzYWJsZUNvbmZpZygpO1xyXG4gICAgfTtcblxuICAgIFNjcm9sbGVyLnByb3RvdHlwZS5hY3RpdmUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHNlY3Rpb25zLmZpbmQoaW5kZXgpO1xuXG4gICAgICAgIGlmICghY3VycmVudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcIkdvcmlsbGEgU2Nyb2xsZXI6IFNlY3Rpb24gbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnQuYWN0aXZlKHRydWUpO1xyXG4gICAgfTtcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICogTUVUSE9EU1xuXHQgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIGZ1bmN0aW9uIHNlY3Rpb25zQ29uZmlnKCkge1xyXG4gICAgICAgIHZhciBzZWN0aW9uc0RvbSA9IHJvb3QuZmluZCgnc2VjdGlvbicpO1xuXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHNlY3Rpb25zRG9tLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgIGlmIChzZWN0aW9uLmZpbmQoJ3NlY3Rpb24nKS5zaXplKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VjdGlvbnMuYWRkKHNlY3Rpb24sIGluZGV4LCBzZWN0aW9uc0RvbS5sZW5ndGgpO1xuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICB9KTtcblxuICAgICAgICBzZWN0aW9uc1swXS5hY3RpdmUodHJ1ZSk7XHJcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBldmVudENvbmZpZygpIHtcclxuICAgICAgICB2YXIgdGltZW91dDtcblxuICAgICAgICB2YXIgY3VycmVudDtcbiAgICAgICAgdmFyIGluaXRpYWxTY3JvbGwgPSBudWxsO1xuICAgICAgICAkKHdpbmRvdykubW91c2V3aGVlbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBzZWN0aW9ucy5jdXJyZW50KCk7XG5cbiAgICAgICAgICAgIGlmIChpbml0aWFsU2Nyb2xsID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsU2Nyb2xsID0gY3VycmVudC5lbGVtLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmVudC5kZWx0YVkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Lmhhc1Njcm9sbCgpIHx8IGluaXRpYWxTY3JvbGwgPT09IGN1cnJlbnQuZWxlbS5zY3JvbGxUb3AoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxEb3duKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxTY3JvbGwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSwgc2V0dGluZ3Muc2Nyb2xsRGVsYXkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnQuaGFzU2Nyb2xsKCkgfHwgaW5pdGlhbFNjcm9sbCA9PT0gY3VycmVudC5lbGVtLnNjcm9sbFRvcCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVXAoKTtcclxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGluaXRpYWxTY3JvbGwgPSBudWxsO1xyXG4gICAgICAgICAgICB9LCBzZXR0aW5ncy5zY3JvbGxEZWxheSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGlzYWJsZUNvbmZpZygpIHtcclxuICAgICAgICB2YXIgZW5hYmxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnZ29yaWxsYS1zY3JvbGxlcicpO1xyXG5cclxuICAgICAgICAgICAgaXNEaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWN0aW9uc1swXS5hY3RpdmUodHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlzRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2dvcmlsbGEtc2Nyb2xsZXInKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgdGltZW91dFJlc2l6ZSA9IG51bGw7XHJcbiAgICAgICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVzaXplKTtcclxuICAgICAgICAgICAgdGltZW91dFJlc2l6ZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5kaXNhYmxlID09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5kaXNhYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbmFibGUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5kaXNhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGRpc2FibGUoKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKHdpbmRvdykudHJpZ2dlcigncmVzaXplJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsRG93bigpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IHNlY3Rpb25zLmN1cnJlbnQoKTtcblxuICAgICAgICBpZiAoaXNEaXNhYmxlZCB8fCAhY3VycmVudC5pc1Njcm9sbE9uQm90dG9tKCkgfHwgIWN1cnJlbnQubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudC5hY3RpdmUoZmFsc2UpO1xyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVXAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzZWN0aW9ucy5jdXJyZW50KCk7XG5cbiAgICAgICAgaWYgKGlzRGlzYWJsZWQgfHwgIWN1cnJlbnQuaXNTY3JvbGxPblRvcCgpIHx8ICFjdXJyZW50LnByZXYoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnQucHJldigpLmFjdGl2ZSh0cnVlKTtcclxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5hdmlnYXRpb25Db25maWcoKSB7XHJcbiAgICAgICAgbmF2aWdhdGlvbiA9ICQoXCI8bmF2IGNsYXNzPSdnb3JpbGxhLXNjcm9sbGVyLW5hdmlnYXRpb24nIC8+XCIpO1xuICAgICAgICB2YXIgdWwgPSAkKFwiPHVsIC8+XCIpO1xuXG4gICAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgdmFyIGxpID0gJChcIjxsaSAvPlwiKTtcbiAgICAgICAgICAgIHZhciBhID0gJChcIjxhIC8+XCIpO1xuXG4gICAgICAgICAgICBhLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbjogaXRlbS5pbmRleFxyXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHBhcmVudFNlY3Rpb24gPSBpdGVtLmVsZW0ucGFyZW50cygnc2VjdGlvbicpO1xuICAgICAgICAgICAgaWYgKHBhcmVudFNlY3Rpb24uc2l6ZSgpID4gMCAmJiBwYXJlbnRTZWN0aW9uLmZpbmQoJ3NlY3Rpb246Zmlyc3QtY2hpbGQnKVswXSAhPT0gaXRlbS5lbGVtWzBdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGkuYXBwZW5kKGEpO1xuICAgICAgICAgICAgdWwuYXBwZW5kKGxpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmF2aWdhdGlvbi5jc3Moe1xyXG4gICAgICAgICAgICAnei1pbmRleCc6IChzZWN0aW9ucy5sZW5ndGggKyBzZXR0aW5ncy56SW5kZXgpICsgMlxyXG4gICAgICAgIH0pO1xuICAgICAgICBuYXZpZ2F0aW9uLmFwcGVuZCh1bCk7XG4gICAgICAgIHJvb3QuYXBwZW5kKG5hdmlnYXRpb24pO1xuXG4gICAgICAgIG5hdmlnYXRpb24ub24oJ2NsaWNrJywgJ2EnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlY3Rpb25zLmZpbmQoJCh0aGlzKS5hdHRyKCdzZWN0aW9uJykpLmFjdGl2ZSh0cnVlKTtcclxuICAgICAgICB9KTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbmF2aWdhdGlvbi5oZWlnaHQodWwuaGVpZ2h0KCkpO1xuICAgICAgICAgICAgbmF2aWdhdGlvbkNoYW5nZSgpO1xyXG4gICAgICAgIH0sIDApO1xyXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmF2aWdhdGlvbkNoYW5nZSgpIHtcclxuICAgICAgICBpZiAoIW5hdmlnYXRpb24pIHJldHVybjtcblxuICAgICAgICB2YXIgY3VycmVudCA9IHNlY3Rpb25zLmN1cnJlbnQoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRMaW5rO1xuICAgICAgICB2YXIgaW5kZXggPSBjdXJyZW50LmluZGV4O1xuXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgY3VycmVudExpbmsgPSBuYXZpZ2F0aW9uLmZpbmQoJ1tzZWN0aW9uPScgKyBpbmRleCArICddJyk7XG4gICAgICAgICAgICBpbmRleC0tO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPCAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJHb3JpbGxhIFNjcm9sbGVyOiBOYXZpZ2F0aW9uIGxpbmsgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IHdoaWxlIChjdXJyZW50TGluay5zaXplKCkgPT09IDApO1xuXG4gICAgICAgIG5hdmlnYXRpb24ucmVtb3ZlQ2xhc3MoZnVuY3Rpb24gKGluZGV4LCBjc3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChjc3MubWF0Y2goLyhefFxccylhY3RpdmUtXFxTKy9nKSB8fCBbXSkuam9pbignICcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5hdmlnYXRpb24uYWRkQ2xhc3MoXCJhY3RpdmUtXCIgKyBjdXJyZW50LmluZGV4KTtcbiAgICAgICAgXG4gICAgICAgIG5hdmlnYXRpb24uZmluZCgnbGknKS5yZW1vdmVDbGFzcyhcImFjdGl2ZSBhY3RpdmUtc3ViXCIpO1xuICAgICAgICBuYXZpZ2F0aW9uLmZpbmQoJ2xpJykucmVtb3ZlQ2xhc3MoZnVuY3Rpb24gKGluZGV4LCBjc3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChjc3MubWF0Y2goLyhefFxccylhY3RpdmUtXFxTKy9nKSB8fCBbXSkuam9pbignICcpO1xyXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBhY3RpdmVDbGFzcyA9IFwiYWN0aXZlXCI7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQuaXNDaGlsZCgpKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzICs9IFwiIGFjdGl2ZS1zdWIgYWN0aXZlLVwiICsgY3VycmVudC5wYXJlbnRJbmRleDtcclxuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudExpbmsucGFyZW50cygnbGknKS5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbiAgICB9XG5cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0ICogU0VDVElPTlNcblx0ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICB2YXIgU2VjdGlvbiA9IGZ1bmN0aW9uIChlbGVtLCBpbmRleCwgekluZGV4KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnBhcmVudEluZGV4ID0gMDtcblxuICAgICAgICBpZiAodGhpcy5pc0NoaWxkKCkpIHtcclxuICAgICAgICAgICAgZWxlbS5wYXJlbnRzKCdzZWN0aW9uJykuZmluZCgnLmdvcmlsbGEtc2Nyb2xsZXItc2VjdGlvbicpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pcyhlbGVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50SW5kZXgrKztcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XG5cbiAgICAgICAgZWxlbS5hZGRDbGFzcygnZ29yaWxsYS1zY3JvbGxlci1zZWN0aW9uIGdvcmlsbGEtc2Nyb2xsZXItc2VjdGlvbi0nICsgaW5kZXgpO1xuICAgICAgICBlbGVtLmF0dHIoJ2lkJywgJ2dvcmlsbGEtc2Nyb2xsZXItc2VjdGlvbi0nICsgaW5kZXgpO1xuICAgICAgICBlbGVtLmNzcyh7XHJcbiAgICAgICAgICAgICd6LWluZGV4JzogekluZGV4XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xuXG4gICAgU2VjdGlvbi5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1bMF0gPT09ICQoZWxlbSlbMF07XHJcbiAgICB9O1xuXG4gICAgU2VjdGlvbi5wcm90b3R5cGUuaXNDaGlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtLnBhcmVudHMoJ3NlY3Rpb24nKS5zaXplKCkgPiAwO1xyXG4gICAgfTtcblxuICAgIFNlY3Rpb24ucHJvdG90eXBlLmhhc1Njcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuZWxlbVswXS5zY3JvbGxIZWlnaHQgLSB0aGlzLmVsZW0ub3V0ZXJIZWlnaHQoKSkgPiAwO1xyXG4gICAgfTtcblxuICAgIFNlY3Rpb24ucHJvdG90eXBlLmlzU2Nyb2xsT25Ub3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmhhc1Njcm9sbCgpIHx8IHRoaXMuZWxlbS5zY3JvbGxUb3AoKSA9PT0gMDtcclxuICAgIH07XG5cbiAgICBTZWN0aW9uLnByb3RvdHlwZS5pc1Njcm9sbE9uQm90dG9tID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5oYXNTY3JvbGwoKSB8fCB0aGlzLmVsZW0uc2Nyb2xsVG9wKCkgPj0gKHRoaXMuZWxlbVswXS5zY3JvbGxIZWlnaHQgLSB0aGlzLmVsZW0ub3V0ZXJIZWlnaHQoKSk7XHJcbiAgICB9O1xuXG4gICAgU2VjdGlvbi5wcm90b3R5cGUuYWN0aXZlID0gZnVuY3Rpb24gKGFjdGl2ZSwgaXNDYXNjYWRlKSB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW0uYWRkQ2xhc3MoJ2dvcmlsbGEtc2Nyb2xsZXItYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0KCkuYWN0aXZlKHRydWUsIHRydWUpO1xyXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNDYXNjYWRlICYmIHRoaXMucHJldigpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXYoKS5hY3RpdmUoZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5hdmlnYXRpb25DaGFuZ2UodGhpcy5pbmRleCk7XG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbS5yZW1vdmVDbGFzcygnZ29yaWxsYS1zY3JvbGxlci1hY3RpdmUnKTtcbiAgICAgICAgaWYgKGlzQ2FzY2FkZSAmJiB0aGlzLnByZXYoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnByZXYoKS5hY3RpdmUoZmFsc2UsIHRydWUpO1xyXG4gICAgICAgIH1cblxuICAgICAgICBuYXZpZ2F0aW9uQ2hhbmdlKHRoaXMuaW5kZXgpO1xyXG4gICAgfTtcblxuICAgIFNlY3Rpb24ucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbmQodGhpcy5pbmRleCAtIDEpO1xyXG4gICAgfTtcblxuICAgIFNlY3Rpb24ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlY3Rpb25zLmZpbmQodGhpcy5pbmRleCArIDEpO1xyXG4gICAgfTtcclxuXG5cbn0pKGpRdWVyeSwgd2luZG93LmdvcmlsbGEpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
